<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>media</title>
    <link rel="icon" href="https://files.catbox.moe/xdtbxt.ico" type="image/x-icon">
    <script src="./main.js"></script>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:type" content="">
    <meta property="og:title" content="media">
    <meta property="og:url" content="https://ysaaa.neocities.org/media.html">
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://ysaaa.neocities.org/rss.xml" rel="alternate" type="application/rss+xml" title="RSS feed for the page">
  </head>
  <body class="">
    <header>
    <nav id="navbar">
          <ul>
            <li><a href="/">home</a></li>
            <li><a href="/media.html">media</a></li>
            <li><a href="/notes.html">notes</a></li>
            <li><a href="/archive.html">archive</a></li>
            <li><a href="/about.html">about</a></li>
          </ul>
        </nav>
    </header>
    <main>
      <h1>media</h1>
<p>everything i've been consuming lately
<br><br></p>
<h2>recently played</h2>
<iframe src="https://petrapixel.neocities.org/widgets/lastfm?center=1&marquee=1&font-family=Arial&font-size=16px&color=#c1cee2&username=ysaasy&swapPositions=1&delimiter=-&underline=0&" height="40" frameborder="0" title="Last.Fm Status"></iframe>
<!-- recent 5 reads -->
<h2>recently read</h2>
<div id="storygraph-diary" class="sg-container"></div>
<h2>recently watched</h2>
<div id="letterboxd-diary" class="boxd-container"></div>
<script>
fetch("/boxd.json")
  .then(res => res.json())
  .then(entries => {
    const container = document.getElementById("letterboxd-diary");
    let html = "";

    entries.forEach(entry => {
      const date = new Date(entry.date);
      const formattedDate = date.toLocaleDateString(undefined, {
        year: "numeric",
        month: "short",
        day: "numeric"
      });

      html += `
        <div class="boxd-entry">
          ${entry.poster ? `<img src="${entry.poster}" alt="Poster for ${entry.title}">` : ""}
          <div class="boxd-content">
            <a href="${entry.link}" target="_blank">${entry.title}</a>
            <div class="boxd-date">${formattedDate}</div>
            ${entry.review ? `<div class="boxd-review">${entry.review}</div>` : ""}
          </div>
        </div>
      `;
    });

    container.innerHTML = html;
  })
  .catch(err => {
    document.getElementById("letterboxd-diary").innerText = "Error loading diary.";
    console.error(err);
  });
</script>
<script>
fetch("/storygraph-recent.json")
  .then(res => res.json())
  .then(entries => {
    const container = document.getElementById("storygraph-diary");
    let html = "";
    
    entries.forEach(entry => {
      
      html += `
        <div class="sg-entry">
          <div class="sg-content">
            <a href="https://app.thestorygraph.com/books/${entry.book_id}" target="_blank">${entry.title}</a>
          </div>
        </div>
      `;
    });
    container.innerHTML = html;
  })
  .catch(err => {
    document.getElementById("storygraph-diary").innerText = "Error loading books.";
    console.error(err);
  });
</script>
    </main>
    <footer>
      <p><small>by Ysa <a href="rss.xml"><svg width="1rem" height="1rem" viewBox="0 -4 20 25" fill="none" xmlns="http://www.w3.org/2000/svg">
 <path d="M4 11C6.38695 11 8.67613 11.9482 10.364 13.636C12.0518 15.3239 13 17.6131 13 20M4 4C8.24346 4 12.3131 5.68571 15.3137 8.68629C18.3143 11.6869 20 15.7565 20 20M6 19C6 19.5523 5.55228 20 5 20C4.44772 20 4 19.5523 4 19C4 18.4477 4.44772 18 5 18C5.55228 18 6 18.4477 6 19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
 </svg></a></small></p></footer>
  </body>
</html>